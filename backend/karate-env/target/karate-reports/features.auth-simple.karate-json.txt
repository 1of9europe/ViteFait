{"failedCount":0,"prefixedPath":"classpath:features\/auth-simple.feature","packageQualifiedName":"features.auth-simple","loopIndex":-1,"relativePath":"features\/auth-simple.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":637667,"startTime":1754505957677,"endTime":1754505957678,"millis":0.637667,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":1609500,"startTime":1754505957679,"endTime":1754505957681,"millis":1.6095,"status":"passed"},"step":{"line":7,"prefix":"Given","index":0,"text":"path '\/health'"}},{"result":{"nanos":198007625,"startTime":1754505957681,"endTime":1754505957879,"millis":198.007625,"status":"passed"},"step":{"line":8,"prefix":"When","index":1,"text":"method GET"},"stepLog":"20:45:57.829 request:\n1 > GET http:\/\/localhost:3000\/health\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.8)\n1 > Accept-Encoding: gzip,deflate\n\n\n20:45:57.865 response time in milliseconds: 32\n1 < 200\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 97\n1 < ETag: W\/\"61-OxI9lpZI4C\/q491cUMUHl3Yex3g\"\n1 < Date: Wed, 06 Aug 2025 18:45:57 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"status\":\"OK\",\"timestamp\":\"2025-08-06T18:45:57.854Z\",\"uptime\":35.553324375,\"environment\":\"test\"}\n\n"},{"result":{"nanos":16500,"startTime":1754505957879,"endTime":1754505957879,"millis":0.0165,"status":"passed"},"step":{"line":9,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":16288958,"startTime":1754505957879,"endTime":1754505957895,"millis":16.288958,"status":"passed"},"step":{"line":10,"prefix":"And","index":3,"text":"match response contains { status: 'OK' }"}}],"executorName":"main","line":6,"name":"Test de santé de l'API","description":"","durationMillis":216.56025,"startTime":1754505957631,"failed":false,"refId":"[1:6]","endTime":1754505957895,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":170167,"startTime":1754505957906,"endTime":1754505957906,"millis":0.170167,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":395500,"startTime":1754505957906,"endTime":1754505957906,"millis":0.3955,"status":"passed"},"step":{"line":13,"prefix":"Given","index":0,"text":"path '\/api\/auth\/signup'"}},{"result":{"nanos":311833,"startTime":1754505957907,"endTime":1754505957907,"millis":0.311833,"status":"passed"},"step":{"endLine":24,"line":14,"prefix":"And","docString":"{\n  \"email\": \"test-client@example.com\",\n  \"password\": \"TestPassword123!\",\n  \"firstName\": \"Test\",\n  \"lastName\": \"Client\",\n  \"phone\": \"+33123456789\",\n  \"role\": \"CLIENT\"\n}","index":1,"text":"request"}},{"result":{"nanos":28709042,"startTime":1754505957907,"endTime":1754505957936,"millis":28.709042,"status":"passed"},"step":{"line":25,"prefix":"When","index":2,"text":"method POST"},"stepLog":"20:45:57.932 request:\n1 > POST http:\/\/localhost:3000\/api\/auth\/signup\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 143\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.8)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"test-client@example.com\",\"password\":\"TestPassword123!\",\"firstName\":\"Test\",\"lastName\":\"Client\",\"phone\":\"+33123456789\",\"role\":\"CLIENT\"}\n\n20:45:57.935 response time in milliseconds: 3\n1 < 201\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 213\n1 < ETag: W\/\"d5-bIkVI0Y8KvQMsZtxFTG9daufh0U\"\n1 < Date: Wed, 06 Aug 2025 18:45:57 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"message\":\"Inscription réussie\",\"user\":{\"id\":\"test-user-id\",\"email\":\"test-client@example.com\",\"firstName\":\"Test\",\"lastName\":\"Client\",\"role\":\"CLIENT\"},\"token\":\"test-jwt-token\",\"refreshToken\":\"test-refresh-token\"}\n\n"},{"result":{"nanos":6417,"startTime":1754505957936,"endTime":1754505957936,"millis":0.006417,"status":"passed"},"step":{"line":26,"prefix":"Then","index":3,"text":"status 201"}},{"result":{"nanos":435833,"startTime":1754505957936,"endTime":1754505957936,"millis":0.435833,"status":"passed"},"step":{"line":27,"prefix":"And","index":4,"text":"match response contains { message: '#string' }"}},{"result":{"nanos":705292,"startTime":1754505957936,"endTime":1754505957937,"millis":0.705292,"status":"passed"},"step":{"line":28,"prefix":"And","index":5,"text":"match response.user contains { email: 'test-client@example.com', role: 'CLIENT' }"}}],"executorName":"main","line":12,"name":"Inscription d'un nouveau client","description":"","durationMillis":30.734084,"startTime":1754505957903,"failed":false,"refId":"[2:12]","endTime":1754505957937,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":118459,"startTime":1754505957944,"endTime":1754505957944,"millis":0.118459,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":486625,"startTime":1754505957944,"endTime":1754505957944,"millis":0.486625,"status":"passed"},"step":{"line":31,"prefix":"Given","index":0,"text":"path '\/api\/auth\/login'"}},{"result":{"nanos":624167,"startTime":1754505957945,"endTime":1754505957946,"millis":0.624167,"status":"passed"},"step":{"endLine":38,"line":32,"prefix":"And","docString":"{\n  \"email\": \"test-client@example.com\",\n  \"password\": \"TestPassword123!\"\n}","index":1,"text":"request"}},{"result":{"nanos":14838792,"startTime":1754505957946,"endTime":1754505957961,"millis":14.838792,"status":"passed"},"step":{"line":39,"prefix":"When","index":2,"text":"method POST"},"stepLog":"20:45:57.947 request:\n1 > POST http:\/\/localhost:3000\/api\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 65\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.8)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"test-client@example.com\",\"password\":\"TestPassword123!\"}\n\n20:45:57.959 response time in milliseconds: 11\n1 < 200\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 211\n1 < ETag: W\/\"d3-ZMqjzHmBct+I5adb\/\/Xuflf9PTY\"\n1 < Date: Wed, 06 Aug 2025 18:45:57 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"message\":\"Connexion réussie\",\"user\":{\"id\":\"test-user-id\",\"email\":\"test-client@example.com\",\"firstName\":\"Test\",\"lastName\":\"Client\",\"role\":\"CLIENT\"},\"token\":\"test-jwt-token\",\"refreshToken\":\"test-refresh-token\"}\n\n"},{"result":{"nanos":13916,"startTime":1754505957961,"endTime":1754505957961,"millis":0.013916,"status":"passed"},"step":{"line":40,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":718375,"startTime":1754505957961,"endTime":1754505957962,"millis":0.718375,"status":"passed"},"step":{"line":41,"prefix":"And","index":4,"text":"match response contains { token: '#string', user: '#object' }"}},{"result":{"nanos":357709,"startTime":1754505957962,"endTime":1754505957962,"millis":0.357709,"status":"passed"},"step":{"line":42,"prefix":"And","index":5,"text":"match response.user contains { email: 'test-client@example.com' }"}}],"executorName":"main","line":30,"name":"Connexion avec des identifiants valides","description":"","durationMillis":17.158043,"startTime":1754505957942,"failed":false,"refId":"[3:30]","endTime":1754505957962,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":121708,"startTime":1754505957975,"endTime":1754505957975,"millis":0.121708,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":306209,"startTime":1754505957976,"endTime":1754505957976,"millis":0.306209,"status":"passed"},"step":{"line":45,"prefix":"Given","index":0,"text":"path '\/api\/auth\/login'"}},{"result":{"nanos":230833,"startTime":1754505957976,"endTime":1754505957976,"millis":0.230833,"status":"passed"},"step":{"endLine":52,"line":46,"prefix":"And","docString":"{\n  \"email\": \"invalid@example.com\",\n  \"password\": \"wrongpassword\"\n}","index":1,"text":"request"}},{"result":{"nanos":5333875,"startTime":1754505957976,"endTime":1754505957981,"millis":5.333875,"status":"passed"},"step":{"line":53,"prefix":"When","index":2,"text":"method POST"},"stepLog":"20:45:57.977 request:\n1 > POST http:\/\/localhost:3000\/api\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 58\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.8)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"invalid@example.com\",\"password\":\"wrongpassword\"}\n\n20:45:57.981 response time in milliseconds: 3\n1 < 401\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 78\n1 < ETag: W\/\"4e-Jn+hgL5cUT5Bb9mwjxSSaCJFDhk\"\n1 < Date: Wed, 06 Aug 2025 18:45:57 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"error\":\"Identifiants invalides\",\"message\":\"Email ou mot de passe incorrect\"}\n\n"},{"result":{"nanos":9875,"startTime":1754505957982,"endTime":1754505957982,"millis":0.009875,"status":"passed"},"step":{"line":54,"prefix":"Then","index":3,"text":"status 401"}},{"result":{"nanos":512708,"startTime":1754505957982,"endTime":1754505957983,"millis":0.512708,"status":"passed"},"step":{"line":55,"prefix":"And","index":4,"text":"match response contains { error: '#string' }"}}],"executorName":"main","line":44,"name":"Connexion avec des identifiants invalides","description":"","durationMillis":6.515208,"startTime":1754505957967,"failed":false,"refId":"[4:44]","endTime":1754505957982,"exampleIndex":-1},{"sectionIndex":4,"stepResults":[{"result":{"nanos":99958,"startTime":1754505957991,"endTime":1754505957991,"millis":0.099958,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":459500,"startTime":1754505957992,"endTime":1754505957992,"millis":0.4595,"status":"passed"},"step":{"line":58,"prefix":"Given","index":0,"text":"path '\/api\/auth\/me'"}},{"result":{"nanos":4130542,"startTime":1754505957992,"endTime":1754505957996,"millis":4.130542,"status":"passed"},"step":{"line":59,"prefix":"When","index":1,"text":"method GET"},"stepLog":"20:45:57.993 request:\n1 > GET http:\/\/localhost:3000\/api\/auth\/me\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.8)\n1 > Accept-Encoding: gzip,deflate\n\n\n20:45:57.995 response time in milliseconds: 2\n1 < 401\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 70\n1 < ETag: W\/\"46-UkGuYYAGF7AYXr4ygz3yBqyCC\/E\"\n1 < Date: Wed, 06 Aug 2025 18:45:57 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"error\":\"Token manquant\",\"message\":\"Token d'authentification requis\"}\n\n"},{"result":{"nanos":8250,"startTime":1754505957996,"endTime":1754505957996,"millis":0.00825,"status":"passed"},"step":{"line":60,"prefix":"Then","index":2,"text":"status 401"}}],"executorName":"main","line":57,"name":"Récupération du profil sans token","description":"","durationMillis":4.69825,"startTime":1754505957987,"failed":false,"refId":"[5:57]","endTime":1754505957996,"exampleIndex":-1}],"callDepth":0,"name":"Tests d'authentification simplifiés","description":"","resultDate":"2025-08-06 08:45:57 PM","durationMillis":275.665835,"passedCount":5}